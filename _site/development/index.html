<!doctype html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="Concise Application Definition for Kubernetes
">
  <title>Kedge</title>

  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/pygment_trac.css">
  <link rel="stylesheet" href="/css/custom.css">
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="canonical" href="http://localhost:4000/development/">
  <link rel="alternate" type="application/rss+xml" title="Kedge" href="http://localhost:4000/feed.xml" />
</head>



  <body>
    <div class="wrapper">

      <header>
<h1> Kedge</h1>
<p>Concise Application Definition for Kubernetes
</p>

  <p class="view"><a href="https://github.com/kedgeproject/kedge">View the Project on GitHub <small>kedgeproject/kedge</small></a></p>
<a class="github-button" href="https://github.com/kedgeproject/kedge/subscription" data-icon="octicon-eye" data-count-href="/kedgeproject/kedge/watchers" data-count-api="/repos/kedgeproject/kedge#subscribers_count" data-count-aria-label="# watchers on GitHub" aria-label="Watch kedgeproject/kedge on GitHub">Watch</a>
<a class="github-button" href="https://github.com/kedgeproject/kedge" data-icon="octicon-star" data-count-href="/kedgeproject/kedge/stargazers" data-count-api="/repos/kedgeproject/kedge#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star kedgeproject/kedge on GitHub">Star</a>
<a class="github-button" href="https://github.com/kedgeproject/kedge/fork" data-icon="octicon-repo-forked" data-count-href="/kedgeproject/kedge/network" data-count-api="/repos/kedgeproject/kedge#forks_count" data-count-aria-label="# forks on GitHub" aria-label="Fork kedgeproject/kedge on GitHub">Fork</a>

<div class="menubar">
  <hr/>
  <ul>
    
    <li><a href="/">Introduction</a></li>
    
    <li><a href="/user-guide/">User Guide</a></li>
    
    <li><a href="/file-reference/">File Reference</a></li>
    
    <li><a href="/development/">Development</a></li>
    
  </ul>
</div>


</header>



      <section>


        <h1 id="development-guide">Development Guide</h1>

<h2 id="building-kedge">Building Kedge</h2>

<p>Read about building kedge <a href="https://github.com/kedgeproject/kedge#building">here</a>.</p>

<h2 id="workflow">Workflow</h2>
<h3 id="fork-the-main-repository">Fork the main repository</h3>

<ol>
  <li>Go to https://github.com/kedgeproject/kedge</li>
  <li>Click the “Fork” button (at the top right)</li>
</ol>

<h3 id="clone-your-fork">Clone your fork</h3>

<p>The commands below require that you have $GOPATH. We highly recommended you put Kedge’ code into your $GOPATH.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code>git clone https://github.com/$YOUR_GITHUB_USERNAME/kedge.git $GOPATH/src/github.com/kedgeproject/kedge
cd $GOPATH/src/github.com/kedgeproject/kedge
git remote add upstream 'https://github.com/kedgeproject/kedge'
</code></pre>
</div>

<h3 id="create-a-branch-and-make-changes">Create a branch and make changes</h3>

<div class="language-console highlighter-rouge"><pre class="highlight"><code>git checkout -b myfeature
<span class="ni"># </span><span class="nc">Make</span><span class="kv"> your code changes
</span></code></pre>
</div>

<h3 id="keeping-your-development-fork-in-sync">Keeping your development fork in sync</h3>

<div class="language-console highlighter-rouge"><pre class="highlight"><code>git fetch upstream
git rebase upstream/master
</code></pre>
</div>

<p>Note: If you have write access to the main repository at github.com/kedgeproject/kedge, you should modify your git configuration so that you can’t accidentally push to upstream:</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code>git remote set-url --push upstream no_push
</code></pre>
</div>

<h3 id="committing-changes-to-your-fork">Committing changes to your fork</h3>

<div class="language-console highlighter-rouge"><pre class="highlight"><code>git commit
git push -f origin myfeature
</code></pre>
</div>

<h3 id="creating-a-pull-request">Creating a pull request</h3>

<ol>
  <li>Visit https://github.com/$YOUR_GITHUB_USERNAME/kedge.git</li>
  <li>Click the “Compare and pull request” button next to your “myfeature” branch.</li>
  <li>Check out the pull request process for more details</li>
</ol>

<h2 id="glide-glide-vc-and-dependency-management"><code class="highlighter-rouge">glide</code>, <code class="highlighter-rouge">glide-vc</code> and dependency management</h2>

<p>Kedge uses <code class="highlighter-rouge">glide</code> to manage dependencies and <code class="highlighter-rouge">glide-vc</code> to clean vendor directory.
They are not strictly required for building Kedge but they are required when managing dependencies under the <code class="highlighter-rouge">vendor/</code> directory.
If you want to make changes to dependencies please make sure that <code class="highlighter-rouge">glide</code> and <code class="highlighter-rouge">glide-vc</code> are installed and are in your <code class="highlighter-rouge">$PATH</code>.</p>

<h3 id="installing-glide">Installing glide</h3>

<p>There are many ways to build and host golang binaries. Here is an easy way to get utilities like <code class="highlighter-rouge">glide</code> and <code class="highlighter-rouge">glide-vc</code> installed:</p>

<p>Ensure that Mercurial and Git are installed on your system. (some of the dependencies use the mercurial source control system).
Use <code class="highlighter-rouge">apt-get install mercurial git</code> or <code class="highlighter-rouge">yum install mercurial git</code> on Linux, or <code class="highlighter-rouge">brew.sh</code> on OS X, or download them directly.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code>go get -u github.com/Masterminds/glide
go get github.com/sgotti/glide-vc
</code></pre>
</div>

<p>Check that <code class="highlighter-rouge">glide</code> and <code class="highlighter-rouge">glide-vc</code> commands are working.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code>glide --version
glide-vc -h
</code></pre>
</div>

<h3 id="using-glide">Using glide</h3>

<h4 id="adding-new-dependency">Adding new dependency</h4>
<ol>
  <li>Update <code class="highlighter-rouge">glide.yml</code> file.</li>
</ol>

<p>Add new packages or subpackages to <code class="highlighter-rouge">glide.yml</code> depending if you added whole new package as dependency or
  just new subpackage.</p>

<ol>
  <li>
    <p>Run <code class="highlighter-rouge">glide update --strip-vendor</code> to get new dependencies.
Than run <code class="highlighter-rouge">glide-vc --only-code --no-tests</code> to delete all unnecessary files from vendor.</p>
  </li>
  <li>
    <p>Commit updated <code class="highlighter-rouge">glide.yml</code>, <code class="highlighter-rouge">glide.lock</code> and <code class="highlighter-rouge">vendor</code> to git.</p>
  </li>
</ol>

<h4 id="updating-dependencies">Updating dependencies</h4>

<ol>
  <li>
    <p>Set new package version in  <code class="highlighter-rouge">glide.yml</code> file.</p>
  </li>
  <li>
    <p>Run <code class="highlighter-rouge">glide update --strip-vendor</code> to update dependencies.
Than run <code class="highlighter-rouge">glide-vc --only-code --no-tests</code> to delete all unnecessary files from vendor.</p>
  </li>
</ol>

<h3 id="pr-review-guidelines">PR review guidelines</h3>

<ul>
  <li>
    <p>To merge a PR at least two LGTMs are needed to merge it</p>
  </li>
  <li>
    <p>If a PR is opened for more than two weeks, find why it is open for so long
if it is blocked on some other issue/pr label it as blocked and then also link
the issue it is blocked on. If it is outstanding for review and there are no
reviews on it ping maintainers.</p>
  </li>
  <li>
    <p>For PRs that have more than 500 LOC break it into pieces and merge it one
by one incrementally so that it is easy to review and going back and forth on
it is easier.</p>
  </li>
</ul>

<p><strong>Note</strong>: Above guidelines are not hard rules use those with discretion</p>


      </section>

      <footer>
  <p>This project is maintained by <a href="https://github.com/kedgeproject/kedge">The Kedge Authors</a></p>
</footer>


    </div>

        <script src="/js/scale.fix.js"></script>


  </body>
</html>
